/* Dark Mode Styles */

/* Dark theme variables override */
html[data-bs-theme="dark"] {
    /* Primary colors with better contrast for dark mode */
    --primary-color: #8A7CF8;  /* Brighter purple for better visibility on dark */
    --primary-light: #B4ACF5;
    --primary-dark: #6254D9;
    
    /* Secondary and accent colors */
    --secondary-color: #A0A8B2;
    --success-color: #4CAF50;
    --danger-color: #F44336;
    --warning-color: #FFC107;
    --info-color: #29B6F6;
    
    /* Background and text colors */
    --body-bg: #121212;
    --body-color: #E8EAED; /* Slightly off-white for better eye comfort */
    --light-color: #272727;
    --dark-color: #E8EAED;
    
    /* UI element backgrounds */
    --card-bg: #1E1E1E;
    --input-bg: #2D2D2D;
    --input-color: #E8EAED;
    --border-color: #444444;
    --toast-bg: #2D2D2D;
    
    /* Chart and graph colors */
    --chart-grid-color: rgba(255, 255, 255, 0.15);
    --chart-text-color: rgba(255, 255, 255, 0.8);
    
    /* Shadow effects */
    --shadow-color-light: rgba(0, 0, 0, 0.5);
    --shadow-sm: 0 2px 5px rgba(0, 0, 0, 0.2);
    --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.3);
    
    /* Updated gradients for dark mode */
    --gradient-primary: linear-gradient(135deg, #6254D9, #9370DB, #8A7CF8);
    --gradient-footer: linear-gradient(135deg, #282a36, #44475a);
}

/* Body and base elements */
html[data-bs-theme="dark"] body {
    background-color: var(--body-bg);
    color: var(--body-color);
}

/* Navbar specific styles */
html[data-bs-theme="dark"] .navbar {
    background-color: #1a1a1a;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}

html[data-bs-theme="dark"] .navbar-dark .navbar-nav .nav-link {
    color: rgba(255, 255, 255, 0.85);
}

/* Card styles */
html[data-bs-theme="dark"] .card {
    background-color: var(--card-bg);
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .card-header {
    background-color: rgba(0, 0, 0, 0.2);
    border-bottom-color: var(--border-color);
}

html[data-bs-theme="dark"] .card-footer {
    background-color: rgba(0, 0, 0, 0.1);
    border-top-color: var(--border-color);
}

/* Form elements */
html[data-bs-theme="dark"] .form-control,
html[data-bs-theme="dark"] .form-select {
    background-color: var(--input-bg);
    border-color: var(--border-color);
    color: var(--input-color);
}

/* Form labels and text - ensure good contrast */
html[data-bs-theme="dark"] .form-label,
html[data-bs-theme="dark"] .form-check-label,
html[data-bs-theme="dark"] .form-text {
    color: var(--body-color);
}

/* Form placeholders */
html[data-bs-theme="dark"] .form-control::placeholder {
    color: rgba(232, 234, 237, 0.65);
}

/* Form focus states */
html[data-bs-theme="dark"] .form-control:focus,
html[data-bs-theme="dark"] .form-select:focus {
    border-color: var(--primary-light);
    box-shadow: 0 0 0 0.25rem rgba(138, 124, 248, 0.25);
}

html[data-bs-theme="dark"] .form-control::placeholder {
    color: rgba(232, 234, 237, 0.6);
}

html[data-bs-theme="dark"] .form-control:focus,
html[data-bs-theme="dark"] .form-select:focus {
    border-color: var(--primary-light);
    box-shadow: 0 0 0 0.25rem rgba(138, 124, 248, 0.25);
    background-color: #333333;
}

html[data-bs-theme="dark"] .input-group-text {
    background-color: #3A3A3A;
    border-color: var(--border-color);
    color: var(--body-color);
}

html[data-bs-theme="dark"] .form-label,
html[data-bs-theme="dark"] .form-check-label {
    color: var(--body-color);
}

/* Table styles */
html[data-bs-theme="dark"] .table {
    --bs-table-bg: transparent;
    --bs-table-color: var(--body-color);
    --bs-table-border-color: var(--border-color);
    --bs-table-striped-bg: rgba(255, 255, 255, 0.05);
    --bs-table-hover-bg: rgba(255, 255, 255, 0.075);
    color: var(--body-color);
}

html[data-bs-theme="dark"] .table-bordered {
    border-color: var(--border-color);
}

/* Chart adaptations */
html[data-bs-theme="dark"] .chart-container canvas {
    filter: brightness(0.96);
}

/* Budget panels and cards */
html[data-bs-theme="dark"] .budget-panel {
    background-color: var(--card-bg);
    color: var(--body-color);
}

html[data-bs-theme="dark"] .stat-card {
    background-color: var(--card-bg);
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .stat-card .stat-value,
html[data-bs-theme="dark"] .stat-card .stat-label {
    color: var(--body-color);
}

html[data-bs-theme="dark"] .stat-card .stat-icon {
    color: var(--primary-color);
}

/* Dashboard elements */
html[data-bs-theme="dark"] .dashboard-card .card-title {
    color: var(--body-color);
}

html[data-bs-theme="dark"] .dashboard-card .value {
    color: var(--primary-light);
}

html[data-bs-theme="dark"] .dashboard-highlight {
    background-color: rgba(138, 124, 248, 0.15);
}

/* Lists and navs */
html[data-bs-theme="dark"] .list-group-item {
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--body-color);
}

html[data-bs-theme="dark"] .dropdown-menu {
    background-color: #272727;
    border-color: var(--border-color);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

html[data-bs-theme="dark"] .dropdown-item {
    color: var(--body-color);
}

html[data-bs-theme="dark"] .dropdown-item:hover,
html[data-bs-theme="dark"] .dropdown-item:focus {
    background-color: #3A3A3A;
    color: white;
}

html[data-bs-theme="dark"] .dropdown-header {
    color: var(--primary-light);
    font-weight: 600;
}

/* Modal styles */
html[data-bs-theme="dark"] .modal-content {
    background-color: var(--card-bg);
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .modal-header,
html[data-bs-theme="dark"] .modal-footer {
    border-color: var(--border-color);
}

/* Alerts and toasts */
html[data-bs-theme="dark"] .toast {
    background-color: var(--toast-bg);
    border-color: var(--border-color);
}

/* Text and typography adjustments for better contrast */
html[data-bs-theme="dark"] .text-muted {
    color: #A0A8B2 !important;
}

html[data-bs-theme="dark"] .text-dark {
    color: var(--body-color) !important;
}

html[data-bs-theme="dark"] .text-light {
    color: rgba(232, 234, 237, 0.8) !important;
}

/* Button styles for dark mode */
html[data-bs-theme="dark"] .btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-dark);
}

html[data-bs-theme="dark"] .btn-outline-primary {
    border-color: var(--primary-color);
    color: var(--primary-color);
}

html[data-bs-theme="dark"] .btn-outline-primary:hover {
    background-color: var(--primary-color);
    color: white;
}

html[data-bs-theme="dark"] .btn-light {
    background-color: #333333;
    border-color: #444444;
    color: var(--body-color);
}

html[data-bs-theme="dark"] .btn-light:hover {
    background-color: #3C3C3C;
    color: white;
}

/* Background classes */
html[data-bs-theme="dark"] .bg-light {
    background-color: var(--light-color) !important;
    color: var(--dark-color) !important;
}

html[data-bs-theme="dark"] .bg-dark {
    background-color: #1A1A1A !important;
    color: var(--body-color) !important;
}

html[data-bs-theme="dark"] .bg-white {
    background-color: var(--card-bg) !important;
}

/* Footer styling */
html[data-bs-theme="dark"] .footer {
    background: var(--gradient-footer);
    color: rgba(255, 255, 255, 0.85);
}

html[data-bs-theme="dark"] .footer a {
    color: rgba(255, 255, 255, 0.7);
}

html[data-bs-theme="dark"] .footer a:hover {
    color: white;
}

/* Fix for svg icons and charts */
html[data-bs-theme="dark"] .dark-svg-adjust svg {
    filter: brightness(1.2);
}

/* Progress bars and indicators */
html[data-bs-theme="dark"] .progress {
    background-color: rgba(255, 255, 255, 0.1);
}

html[data-bs-theme="dark"] .progress-label {
    color: var(--body-color);
}

/* Timeline and activity elements */
html[data-bs-theme="dark"] .timeline-item {
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .timeline-item::before {
    background-color: var(--primary-color);
}

html[data-bs-theme="dark"] .activity-date {
    color: var(--secondary-color);
}

/* Goals specific styles */
html[data-bs-theme="dark"] .goal-card {
    background-color: var(--card-bg);
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .goal-progress {
    background-color: rgba(255, 255, 255, 0.1);
}

html[data-bs-theme="dark"] .goal-header {
    border-bottom-color: var(--border-color);
}

/* Transaction list items */
html[data-bs-theme="dark"] .transaction-item {
    border-bottom-color: var(--border-color);
}

html[data-bs-theme="dark"] .transaction-item:hover {
    background-color: rgba(255, 255, 255, 0.05);
}

html[data-bs-theme="dark"] .transaction-amount.expense {
    color: #F88379;
}

html[data-bs-theme="dark"] .transaction-amount.income {
    color: #77DD77;
}

/* Investment dashboard specific styles */
html[data-bs-theme="dark"] .investment-summary {
    background-color: var(--card-bg);
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .stock-up {
    color: #77DD77;
}

html[data-bs-theme="dark"] .stock-down {
    color: #F88379;
}

/* Badge styles */
html[data-bs-theme="dark"] .badge.bg-secondary,
html[data-bs-theme="dark"] .badge.bg-light {
    color: var(--body-color);
    background-color: var(--light-color) !important;
}

/* Form labels and placeholders */
html[data-bs-theme="dark"] .form-label,
html[data-bs-theme="dark"] .form-check-label,
html[data-bs-theme="dark"] .form-text {
    color: var(--body-color);
}

html[data-bs-theme="dark"] .form-text {
    opacity: 0.8;
}

/* Additional elements that need styling */
html[data-bs-theme="dark"] .alert {
    border-color: var(--border-color);
}

html[data-bs-theme="dark"] .alert-warning {
    background-color: rgba(255, 193, 7, 0.15);
    color: #F8D7A0;
}

html[data-bs-theme="dark"] .alert-success {
    background-color: rgba(40, 167, 69, 0.15);
    color: #A3E4B7;
}

html[data-bs-theme="dark"] .alert-danger {
    background-color: rgba(220, 53, 69, 0.15);
    color: #F8B0B8;
}

html[data-bs-theme="dark"] .alert-info {
    background-color: rgba(23, 162, 184, 0.15);
    color: #A2E1EE;
}

/* Fix for background gradients and colors */
html[data-bs-theme="dark"] .bg-primary-gradient {
    background: var(--gradient-primary);
}

html[data-bs-theme="dark"] .bg-subtle {
    background-color: rgba(138, 124, 248, 0.15);
}

html[data-bs-theme="dark"] .bg-subtle-success {
    background-color: rgba(76, 175, 80, 0.15);
}

/* Transitions for smoother theme switching */
body, 
.card, 
.navbar,
.table,
.form-control, 
.form-select,
.input-group-text,
.alert,
.btn, 
.modal-content,
.toast,
.dropdown-menu,
.list-group-item {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}
